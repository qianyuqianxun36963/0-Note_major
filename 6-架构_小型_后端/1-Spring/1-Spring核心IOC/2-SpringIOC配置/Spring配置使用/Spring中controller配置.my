<h1><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><strong><span style="font-size:x-large">SpringMVC Controller&nbsp;<span style="font-size:x-large">介绍</span></span></strong></span></span></h1>

<h2 style="margin-left:0px; margin-right:0px"><span style="font-size:22px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">一、简介</span></span></h2>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在SpringMVC&nbsp;中，控制器Controller&nbsp;负责处理由DispatcherServlet&nbsp;分发的请求，它把用户请求的数据经过业务处理层处理之后封装成一个Model&nbsp;，然后再把该Model&nbsp;返回给对应的View&nbsp;进行展示。在SpringMVC&nbsp;中提供了一个非常简便的定义Controller&nbsp;的方法，你无需继承特定的类或实现特定的接口，只需使用@Controller&nbsp;标记一个类是Controller&nbsp;，然后使用@RequestMapping&nbsp;和@RequestParam&nbsp;等一些注解用以定义URL&nbsp;请求和Controller&nbsp;方法之间的映射，这样的Controller&nbsp;就能被外界访问到。此外Controller&nbsp;不会直接依赖于HttpServletRequest&nbsp;和HttpServletResponse&nbsp;等HttpServlet&nbsp;对象，它们可以通过Controller&nbsp;的方法参数灵活的获取到。为了先对Controller&nbsp;有一个初步的印象，以下先定义一个简单的Controller&nbsp;：</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;/showView&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;ModelAndView&nbsp;showView()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelAndView&nbsp;modelAndView&nbsp;=&nbsp;<strong>new</strong>&nbsp;ModelAndView();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.setViewName(&nbsp;&quot;viewName&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.addObject(&nbsp;&quot;&nbsp;需要放到&nbsp;model&nbsp;中的属性名称&nbsp;&quot;&nbsp;,&nbsp;&quot;&nbsp;对应的属性值，它是一个对象&nbsp;&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;modelAndView;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p>&nbsp;</p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">在上面的示例中，@Controller&nbsp;是标记在类MyController&nbsp;上面的，所以类MyController&nbsp;就是一个SpringMVC Controller&nbsp;对象了，然后使用@RequestMapping(&ldquo;/showView&rdquo;)&nbsp;标记在Controller&nbsp;方法上，表示当请求/showView.do&nbsp;的时候访问的是MyController&nbsp;的showView&nbsp;方法，该方法返回了一个包括Model&nbsp;和View&nbsp;的ModelAndView&nbsp;对象。这些在后续都将会详细介绍。</span></span></p>

<h2>二、使用 @Controller 定义一个 Controller 控制器</h2>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Controller&nbsp;用于标记在一个类上，使用它标记的类就是一个SpringMVC Controller&nbsp;对象。分发处理器将会扫描使用了该注解的类的方法，并检测该方法是否使用了@RequestMapping&nbsp;注解。@Controller&nbsp;只是定义了一个控制器类，而使用@RequestMapping&nbsp;注解的方法才是真正处理请求的处理器，这个接下来就会讲到。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;单单使用@Controller&nbsp;标记在一个类上还不能真正意义上的说它就是SpringMVC&nbsp;的一个控制器类，因为这个时候Spring&nbsp;还不认识它。那么要如何做Spring&nbsp;才能认识它呢？这个时候就需要我们把这个控制器类交给Spring&nbsp;来管理。拿MyController&nbsp;来举一个例子</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;/showView&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;ModelAndView&nbsp;showView()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelAndView&nbsp;modelAndView&nbsp;=&nbsp;<strong>new</strong>&nbsp;ModelAndView();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.setViewName(&nbsp;&quot;viewName&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.addObject(&nbsp;&quot;&nbsp;需要放到&nbsp;model&nbsp;中的属性名称&nbsp;&quot;&nbsp;,&nbsp;&quot;&nbsp;对应的属性值，它是一个对象&nbsp;&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;modelAndView;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p>&nbsp;</p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">这个时候有两种方式可以把MyController&nbsp;交给Spring&nbsp;管理，好让它能够识别我们标记的@Controller&nbsp;。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;第一种方式是在SpringMVC&nbsp;的配置文件中定义MyController&nbsp;的bean&nbsp;对象。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&lt;bean class=&quot;com.host.app.web.controller.MyController&quot;/&gt;</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;第二种方式是在SpringMVC&nbsp;的配置文件中告诉Spring&nbsp;该到哪里去找标记为@Controller&nbsp;的Controller&nbsp;控制器。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>&lt;</strong>&nbsp;<strong>context:component-scan</strong>&nbsp;base-package&nbsp;=&nbsp;&quot;com.host.app.web.controller&quot;&nbsp;<strong>&gt;</strong>&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>&lt;</strong>&nbsp;<strong>context:exclude-filter</strong>&nbsp;type&nbsp;=&nbsp;&quot;annotation&quot;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression&nbsp;=&nbsp;&quot;org.springframework.stereotype.Service&quot;&nbsp;<strong>/&gt;</strong>&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>&lt;/</strong>&nbsp;<strong>context:component-scan</strong>&nbsp;<strong>&gt;</strong>&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;注：</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上面&nbsp;<span style="font-size:10pt">context:exclude-filter</span>&nbsp;标注的是不扫描&nbsp;<span style="font-size:10pt">@Service</span>&nbsp;标注的类</span></span></p>

<h2>三、使用 @RequestMapping 来映射 Request 请求与处理器</h2>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;可以使用@RequestMapping&nbsp;来映射URL&nbsp;到控制器类，或者是到Controller&nbsp;控制器的处理方法上。当@RequestMapping&nbsp;标记在Controller&nbsp;类上的时候，里面使用@RequestMapping&nbsp;标记的方法的请求地址都是相对于类上的@RequestMapping&nbsp;而言的；当Controller&nbsp;类上没有标记@RequestMapping&nbsp;注解时，方法上的@RequestMapping&nbsp;都是绝对路径。这种绝对路径和相对路径所组合成的最终路径都是相对于根路径&ldquo;/&nbsp;&rdquo;而言的。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;/showView&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;ModelAndView&nbsp;showView()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelAndView&nbsp;modelAndView&nbsp;=&nbsp;<strong>new</strong>&nbsp;ModelAndView();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.setViewName(&nbsp;&quot;viewName&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.addObject(&nbsp;&quot;&nbsp;需要放到&nbsp;model&nbsp;中的属性名称&nbsp;&quot;&nbsp;,&nbsp;&quot;&nbsp;对应的属性值，它是一个对象&nbsp;&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;modelAndView;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">在这个控制器中，因为MyController&nbsp;没有被@RequestMapping&nbsp;标记，所以当需要访问到里面使用了@RequestMapping&nbsp;标记的showView&nbsp;方法时，就是使用的绝对路径/showView.do&nbsp;请求就可以了。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/test&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;/showView&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;ModelAndView&nbsp;showView()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelAndView&nbsp;modelAndView&nbsp;=&nbsp;<strong>new</strong>&nbsp;ModelAndView();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.setViewName(&nbsp;&quot;viewName&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.addObject(&nbsp;&quot;&nbsp;需要放到&nbsp;model&nbsp;中的属性名称&nbsp;&quot;&nbsp;,&nbsp;&quot;&nbsp;对应的属性值，它是一个对象&nbsp;&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;modelAndView;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;这种情况是在控制器上加了@RequestMapping&nbsp;注解，所以当需要访问到里面使用了@RequestMapping&nbsp;标记的方法showView()&nbsp;的时候就需要使用showView&nbsp;方法上@RequestMapping&nbsp;相对于控制器MyController上@RequestMapping&nbsp;的地址，即/test/showView.do&nbsp;。</span></span></p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（一）使用&nbsp;URI&nbsp;模板</h3>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;URI&nbsp;模板就是在URI&nbsp;中给定一个变量，然后在映射的时候动态的给该变量赋值。如URI&nbsp;模板http://localhost/app/{variable1}/index.html&nbsp;，这个模板里面包含一个变量variable1&nbsp;，那么当我们请求http://localhost/app/hello/index.html&nbsp;的时候，该URL&nbsp;就跟模板相匹配，只是把模板中的variable1&nbsp;用hello&nbsp;来取代。在SpringMVC&nbsp;中，这种取代模板中定义的变量的值也可以给处理器方法使用，这样我们就可以非常方便的实现URL&nbsp;的RestFul&nbsp;风格。这个变量在SpringMVC&nbsp;中是使用@PathVariable&nbsp;来标记的。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;在SpringMVC&nbsp;中，我们可以使用@PathVariable&nbsp;来标记一个Controller&nbsp;的处理方法参数，表示该参数的值将使用URI&nbsp;模板中对应的变量的值来赋值。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/test/{variable1}&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;/showView/{variable2}&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;ModelAndView&nbsp;showView(&nbsp;@PathVariable&nbsp;String&nbsp;variable1,&nbsp;@PathVariable&nbsp;(&nbsp;&quot;variable2&quot;&nbsp;)&nbsp;<strong>int</strong>&nbsp;variable2)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelAndView&nbsp;modelAndView&nbsp;=&nbsp;<strong>new</strong>&nbsp;ModelAndView();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.setViewName(&nbsp;&quot;viewName&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modelAndView.addObject(&nbsp;&quot;&nbsp;需要放到&nbsp;model&nbsp;中的属性名称&nbsp;&quot;&nbsp;,&nbsp;&quot;&nbsp;对应的属性值，它是一个对象&nbsp;&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;modelAndView;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;在上面的代码中我们定义了两个URI&nbsp;变量，一个是控制器类上的variable1&nbsp;，一个是showView&nbsp;方法上的variable2，然后在showView&nbsp;方法的参数里面使用@PathVariable&nbsp;标记使用了这两个变量。所以当我们使用/test/hello/showView/2.do&nbsp;来请求的时候就可以访问到MyController&nbsp;的showView&nbsp;方法，这个时候variable1&nbsp;就被赋予值hello&nbsp;，variable2&nbsp;就被赋予值2&nbsp;，然后我们在showView&nbsp;方法参数里面标注了参数variable1&nbsp;和variable2&nbsp;是来自访问路径的path&nbsp;变量，这样方法参数variable1&nbsp;和variable2&nbsp;就被分别赋予hello&nbsp;和2&nbsp;。方法参数variable1&nbsp;是定义为String&nbsp;类型，variable2&nbsp;是定义为int&nbsp;类型，像这种简单类型在进行赋值的时候Spring&nbsp;是会帮我们自动转换的，关于复杂类型该如何来转换在后续内容中将会讲到。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;在上面的代码中我们可以看到在标记variable1&nbsp;为path&nbsp;变量的时候我们使用的是@PathVariable&nbsp;，而在标记variable2&nbsp;的时候使用的是@PathVariable(&ldquo;variable2&rdquo;)&nbsp;。这两者有什么区别呢？第一种情况就默认去URI&nbsp;模板中找跟参数名相同的变量，但是这种情况只有在使用debug&nbsp;模式进行编译的时候才可以，而第二种情况是明确规定使用的就是URI&nbsp;模板中的variable2&nbsp;变量。当不是使用debug&nbsp;模式进行编译，或者是所需要使用的变量名跟参数名不相同的时候，就要使用第二种方式明确指出使用的是URI&nbsp;模板中的哪个变量。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;除了在请求路径中使用URI&nbsp;模板，定义变量之外，@RequestMapping&nbsp;中还支持通配符&ldquo;*&nbsp;&rdquo;。如下面的代码我就可以使用/myTest/whatever/wildcard.do&nbsp;访问到Controller&nbsp;的testWildcard&nbsp;方法。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/myTest&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;*/wildcard&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;String&nbsp;testWildcard()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;wildcard------------&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;wildcard&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p>&nbsp;</p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（二）使用&nbsp;@RequestParam&nbsp;绑定&nbsp;HttpServletRequest&nbsp;请求参数到控制器方法参数</h3>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;requestParam&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">ublic&nbsp;String&nbsp;testRequestParam(&nbsp;@RequestParam(required=<strong>false</strong>)&nbsp;String&nbsp;name,&nbsp;@RequestParam&nbsp;(&nbsp;&quot;age&quot;&nbsp;)&nbsp;<strong>int</strong>&nbsp;age)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;requestParam&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p>&nbsp;</p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">在上面代码中利用@RequestParam&nbsp;从HttpServletRequest&nbsp;中绑定了参数name&nbsp;到控制器方法参数name&nbsp;，绑定了参数age&nbsp;到控制器方法参数age&nbsp;。值得注意的是和@PathVariable&nbsp;一样，当你没有明确指定从request&nbsp;中取哪个参数时，Spring&nbsp;在代码是debug&nbsp;编译的情况下会默认取更方法参数同名的参数，如果不是debug&nbsp;编译的就会报错。此外，当需要从request&nbsp;中绑定的参数和方法的参数名不相同的时候，也需要在@RequestParam&nbsp;中明确指出是要绑定哪个参数。在上面的代码中如果我访问/requestParam.do?name=hello&amp;age=1&nbsp;则Spring&nbsp;将会把request请求参数name&nbsp;的值hello&nbsp;赋给对应的处理方法参数name&nbsp;，把参数age&nbsp;的值1&nbsp;赋给对应的处理方法参数age&nbsp;。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">在@RequestParam&nbsp;中除了指定绑定哪个参数的属性value&nbsp;之外，还有一个属性required&nbsp;，它表示所指定的参数是否必须在request&nbsp;属性中存在，默认是true&nbsp;，表示必须存在，当不存在时就会报错。在上面代码中我们指定了参数name&nbsp;的required&nbsp;的属性为false&nbsp;，而没有指定age&nbsp;的required&nbsp;属性，这时候如果我们访问/requestParam.do而没有传递参数的时候，系统就会抛出异常，因为age&nbsp;参数是必须存在的，而我们没有指定。而如果我们访问/requestParam.do?age=1&nbsp;的时候就可以正常访问，因为我们传递了必须的参数age&nbsp;，而参数name&nbsp;是非必须的，不传递也可以。</span></span></p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（三）使用&nbsp;@CookieValue&nbsp;绑定&nbsp;cookie&nbsp;的值到&nbsp;Controller&nbsp;方法参数</h3>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;cookieValue&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;String&nbsp;testCookieValue(&nbsp;@CookieValue&nbsp;(&nbsp;&quot;hello&quot;&nbsp;)&nbsp;String&nbsp;cookieValue,&nbsp;@CookieValue&nbsp;String&nbsp;hello)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(cookieValue&nbsp;+&nbsp;&quot;-----------&quot;&nbsp;+&nbsp;hello);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;cookieValue&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;在上面的代码中我们使用@CookieValue&nbsp;绑定了cookie&nbsp;的值到方法参数上。上面一共绑定了两个参数，一个是明确指定要绑定的是名称为hello&nbsp;的cookie&nbsp;的值，一个是没有指定。使用没有指定的形式的规则和@PathVariable、@RequestParam&nbsp;的规则是一样的，即在debug&nbsp;编译模式下将自动获取跟方法参数名同名的cookie&nbsp;值。</span></span></p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（四）使用&nbsp;@RequestHeader&nbsp;注解绑定&nbsp;HttpServletRequest&nbsp;头信息到Controller&nbsp;方法参数</h3>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;testRequestHeader&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;String&nbsp;testRequestHeader(&nbsp;@RequestHeader&nbsp;(&nbsp;&quot;Host&quot;&nbsp;)&nbsp;String&nbsp;hostAddr,&nbsp;@RequestHeader&nbsp;String&nbsp;Host,&nbsp;@RequestHeader&nbsp;String&nbsp;host&nbsp;)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(hostAddr&nbsp;+&nbsp;&quot;-----&quot;&nbsp;+&nbsp;Host&nbsp;+&nbsp;&quot;-----&quot;&nbsp;+&nbsp;host&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;requestHeader&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在上面的代码中我们使用了&nbsp;<span style="font-size:14pt">@RequestHeader</span>&nbsp;绑定了&nbsp;<span style="font-size:14pt">HttpServletRequest</span>&nbsp;请求头&nbsp;<span style="font-size:14pt">host</span>&nbsp;到<span style="font-size:14pt">Controller</span>&nbsp;的方法参数。上面方法的三个参数都将会赋予同一个值，由此我们可以知道在绑定请求头参数到方法参数的时候规则和&nbsp;<span style="font-size:14pt">@PathVariable</span>&nbsp;、&nbsp;<span style="font-size:14pt">@RequestParam</span>&nbsp;以及&nbsp;<span style="font-size:14pt">@CookieValue</span>&nbsp;是一样的，即没有指定绑定哪个参数到方法参数的时候，在&nbsp;<span style="font-size:14pt">debug</span>&nbsp;编译模式下将使用方法参数名作为需要绑定的参数。但是有一点&nbsp;<span style="font-size:14pt">@RequestHeader</span>&nbsp;跟另外三种绑定方式是不一样的，那就是在使用&nbsp;<span style="font-size:14pt">@RequestHeader</span>&nbsp;的时候是大小写不敏感的，即&nbsp;<span style="font-size:14pt">@RequestHeader(&ldquo;Host&rdquo;)</span>&nbsp;和&nbsp;<span style="font-size:14pt">@RequestHeader(&ldquo;host&rdquo;)</span>&nbsp;绑定的都是<span style="font-size:14pt">Host</span>&nbsp;头信息。记住在&nbsp;<span style="font-size:14pt">@PathVariable</span>&nbsp;、&nbsp;<span style="font-size:14pt">@RequestParam</span>&nbsp;和&nbsp;<span style="font-size:14pt">@CookieValue</span>&nbsp;中都是大小写敏感的。</span></span></p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（五）&nbsp;@RequestMapping&nbsp;的一些高级应用</h3>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在RequestMapping&nbsp;中除了指定请求路径value&nbsp;属性外，还有其他的属性可以指定，如params&nbsp;、method&nbsp;和headers&nbsp;。这样属性都可以用于缩小请求的映射范围。</span></span></p>

<h4><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;</span></span><span style="font-size:large">1.params属性</span></h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;params&nbsp;属性用于指定请求参数的，先看以下代码。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(value=&nbsp;&quot;testParams&quot;&nbsp;,&nbsp;params={&nbsp;&quot;param1=value1&quot;&nbsp;,&nbsp;&quot;param2&quot;&nbsp;,&nbsp;&quot;!param3&quot;&nbsp;})&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;String&nbsp;testParams()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;test&nbsp;Params...........&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;testParams&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;在上面的代码中我们用@RequestMapping&nbsp;的params&nbsp;属性指定了三个参数，这些参数都是针对请求参数而言的，它们分别表示参数param1&nbsp;的值必须等于value1&nbsp;，参数param2&nbsp;必须存在，值无所谓，参数param3&nbsp;必须不存在，只有当请求/testParams.do&nbsp;并且满足指定的三个参数条件的时候才能访问到该方法。所以当请求/testParams.do?param1=value1&amp;param2=value2&nbsp;的时候能够正确访问到该testParams&nbsp;方法，当请求/testParams.do?param1=value1&amp;param2=value2&amp;param3=value3&nbsp;的时候就不能够正常的访问到该方法，因为在@RequestMapping&nbsp;的params&nbsp;参数里面指定了参数param3&nbsp;是不能存在的。</span></span></p>

<h4 style="color:#000000; font-style:normal; margin-left:0px; margin-right:0px"><span style="font-size:large">2.method属性</span></h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">method&nbsp;属性主要是用于限制能够访问的方法类型的。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(value=&nbsp;&quot;testMethod&quot;&nbsp;,&nbsp;method={RequestMethod.&nbsp;GET&nbsp;,&nbsp;RequestMethod.&nbsp;DELETE&nbsp;})&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;String&nbsp;testMethod()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;method&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">在上面的代码中就使用method&nbsp;参数限制了以GET&nbsp;或DELETE&nbsp;方法请求/testMethod.do&nbsp;的时候才能访问到该Controller&nbsp;的testMethod&nbsp;方法。</span></span></p>

<h4><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;</span></span><span style="font-size:large">3.headers属性</span></h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用headers&nbsp;属性可以通过请求头信息来缩小@RequestMapping&nbsp;的映射范围。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(value=&nbsp;&quot;testHeaders&quot;&nbsp;,&nbsp;headers={&nbsp;&quot;host=localhost&quot;&nbsp;,&nbsp;&quot;Accept&quot;&nbsp;})&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;String&nbsp;testHeaders()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;headers&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;headers&nbsp;属性的用法和功能与params&nbsp;属性相似。在上面的代码中当请求/testHeaders.do&nbsp;的时候只有当请求头包含Accept&nbsp;信息，且请求的host&nbsp;为localhost&nbsp;的时候才能正确的访问到testHeaders&nbsp;方法。</span></span></p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（六）以&nbsp;@RequestMapping&nbsp;标记的处理器方法支持的方法参数和返回类型</h3>

<h4 style="color:#000000; font-style:normal; margin-left:0px; margin-right:0px"><span style="font-size:12px">1.</span>&nbsp;<span style="font-size:12px">支持的方法参数类型</span></h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>（1&nbsp;）HttpServlet&nbsp;对象，主要包括HttpServletRequest&nbsp;、HttpServletResponse&nbsp;和HttpSession&nbsp;对象。&nbsp;</strong>这些参数Spring&nbsp;在调用处理器方法的时候会自动给它们赋值，所以当在处理器方法中需要使用到这些对象的时候，可以直接在方法上给定一个方法参数的申明，然后在方法体里面直接用就可以了。但是有一点需要注意的是在使用HttpSession&nbsp;对象的时候，如果此时HttpSession&nbsp;对象还没有建立起来的话就会有问题。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;<strong>（2&nbsp;）Spring&nbsp;自己的WebRequest&nbsp;对象。&nbsp;</strong>使用该对象可以访问到存放在HttpServletRequest&nbsp;和HttpSession中的属性值。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;<strong>（3&nbsp;）InputStream&nbsp;、OutputStream&nbsp;、Reader&nbsp;和Writer&nbsp;。&nbsp;</strong>InputStream&nbsp;和Reader&nbsp;是针对HttpServletRequest&nbsp;而言的，可以从里面取数据；OutputStream&nbsp;和Writer&nbsp;是针对HttpServletResponse&nbsp;而言的，可以往里面写数据。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;<strong>（4&nbsp;）使用@PathVariable&nbsp;、@RequestParam&nbsp;、@CookieValue&nbsp;和@RequestHeader&nbsp;标记的参数。</strong></span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><strong>&nbsp;&nbsp;&nbsp;</strong><strong>（5&nbsp;）使用@ModelAttribute&nbsp;标记的参数。</strong></span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><strong>&nbsp;&nbsp;&nbsp;</strong><strong>（6&nbsp;）java.util.Map&nbsp;、Spring&nbsp;封装的Model&nbsp;和ModelMap&nbsp;。&nbsp;</strong>这些都可以用来封装模型数据，用来给视图做展示。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;<strong>（7&nbsp;）实体类。&nbsp;</strong>可以用来接收上传的参数。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;<strong>（8&nbsp;）Spring&nbsp;封装的MultipartFile&nbsp;。&nbsp;</strong>用来接收上传文件的。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;<strong>（9&nbsp;）Spring&nbsp;封装的Errors&nbsp;和BindingResult&nbsp;对象。&nbsp;</strong>这两个对象参数必须紧接在需要验证的实体对象参数之后，它里面包含了实体对象的验证结果。</span></span></p>

<h4 style="color:#000000; font-style:normal; margin-left:0px; margin-right:0px"><span style="font-size:12px">2.</span>&nbsp;<span style="font-size:12px">支持的返回类型</span></h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp; &nbsp;（1&nbsp;）一个包含模型和视图的ModelAndView&nbsp;对象。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;（2&nbsp;）一个模型对象，这主要包括Spring&nbsp;封装好的Model&nbsp;和ModelMap&nbsp;，以及java.util.Map&nbsp;，当没有视图返回的时候视图名称将由RequestToViewNameTranslator&nbsp;来决定。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;（3&nbsp;）一个View&nbsp;对象。这个时候如果在渲染视图的过程中模型的话就可以给处理器方法定义一个模型参数，然后在方法体里面往模型中添加值。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;（4&nbsp;）一个String&nbsp;字符串。这往往代表的是一个视图名称。这个时候如果需要在渲染视图的过程中需要模型的话就可以给处理器方法一个模型参数，然后在方法体里面往模型中添加值就可以了。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;（5&nbsp;）返回值是void&nbsp;。这种情况一般是我们直接把返回结果写到HttpServletResponse&nbsp;中了，如果没有写的话，那么Spring&nbsp;将会利用RequestToViewNameTranslator&nbsp;来返回一个对应的视图名称。如果视图中需要模型的话，处理方法与返回字符串的情况相同。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;（6&nbsp;）如果处理器方法被注解@ResponseBody&nbsp;标记的话，那么处理器方法的任何返回类型都会通过HttpMessageConverters&nbsp;转换之后写到HttpServletResponse&nbsp;中，而不会像上面的那些情况一样当做视图或者模型来处理。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;（7&nbsp;）除以上几种情况之外的其他任何返回类型都会被当做模型中的一个属性来处理，而返回的视图还是由RequestToViewNameTranslator&nbsp;来决定，添加到模型中的属性名称可以在该方法上用@ModelAttribute(&ldquo;attributeName&rdquo;)&nbsp;来定义，否则将使用返回类型的类名称的首字母小写形式来表示。使用@ModelAttribute&nbsp;标记的方法会在@RequestMapping&nbsp;标记的方法执行之前执行。</span></span></p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（七）使用&nbsp;@ModelAttribute&nbsp;和&nbsp;@SessionAttributes&nbsp;传递和保存数据</h3>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><span style="font-size:14pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringMVC</span>&nbsp;支持使用&nbsp;<span style="font-size:14pt">@ModelAttribute</span>&nbsp;和&nbsp;<span style="font-size:14pt">@SessionAttributes</span>&nbsp;在不同的模型和控制器之间共享数据。&nbsp;<strong><span style="font-size:14pt">@ModelAttribute</span>&nbsp;</strong>主要有两种使用方式，一种是标注在方法上，一种是标注在&nbsp;<span style="font-size:14pt">Controller</span>方法参数上。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">当&nbsp;<span style="font-size:14pt">@ModelAttribute</span>&nbsp;标记在方法上的时候，该方法将在处理器方法执行之前执行，然后把返回的对象存放在&nbsp;<span style="font-size:14pt">session</span>&nbsp;或模型属性中，属性名称可以使用&nbsp;<span style="font-size:14pt">@ModelAttribute(&ldquo;attributeName&rdquo;)</span>&nbsp;在标记方法的时候指定，若未指定，则使用返回类型的类名称（首字母小写）作为属性名称。关于&nbsp;<span style="font-size:14pt">@ModelAttribute</span>&nbsp;标记在方法上时对应的属性是存放在&nbsp;<span style="font-size:14pt">session</span>&nbsp;中还是存放在模型中，我们来做一个实验，看下面一段代码。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/myTest&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;hello&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;String&nbsp;getModel()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;-------------Hello---------&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;world&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;intValue&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>int</strong>&nbsp;getInteger()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;-------------intValue---------------&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;10;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;sayHello&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;sayHello(&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;hello&quot;&nbsp;)&nbsp;String&nbsp;hello,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;intValue&quot;&nbsp;)&nbsp;<strong>int</strong>&nbsp;num,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;user2&quot;&nbsp;)&nbsp;User&nbsp;user,&nbsp;Writer&nbsp;writer,&nbsp;HttpSession&nbsp;session)&nbsp;<strong>throws</strong>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;Hello&nbsp;&quot;&nbsp;+&nbsp;hello&nbsp;+&nbsp;&quot;&nbsp;,&nbsp;Hello&nbsp;&quot;&nbsp;+&nbsp;user.getUsername()&nbsp;+&nbsp;num);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enumeration&nbsp;enume&nbsp;=&nbsp;session.getAttributeNames();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>while</strong>&nbsp;(enume.hasMoreElements())&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(enume.nextElement()&nbsp;+&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;user2&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;User&nbsp;getUser()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;---------getUser-------------&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;<strong>new</strong>&nbsp;User(3,&nbsp;&quot;user2&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">当我们请求&nbsp;<span style="font-size:14pt">/myTest/sayHello.do</span>&nbsp;的时候使用&nbsp;<span style="font-size:14pt">@ModelAttribute</span>&nbsp;标记的方法会先执行，然后把它们返回的对象存放到模型中。最终访问到&nbsp;<span style="font-size:14pt">sayHello</span>&nbsp;方法的时候，使用&nbsp;<span style="font-size:14pt">@ModelAttribute</span>&nbsp;标记的方法参数都能被正确的注入值。执行结果如下图所示：</span></span><br />
<span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><img alt="" src="http://dl.iteye.com/upload/attachment/0078/3377/06750228-d8ab-336b-bb00-06455d11c895.png" style="border:0px" /></span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;由执行结果我们可以看出来，此时&nbsp;<span style="font-size:14pt">session</span>&nbsp;中没有包含任何属性，也就是说上面的那些对象都是存放在模型属性中，而不是存放在&nbsp;<span style="font-size:14pt">session</span>&nbsp;属性中。那要如何才能存放在&nbsp;<span style="font-size:14pt">session</span>&nbsp;属性中呢？这个时候我们先引入一个新的概念&nbsp;<span style="font-size:14pt">@SessionAttributes</span>&nbsp;，它的用法会在讲完&nbsp;<span style="font-size:14pt">@ModelAttribute</span>&nbsp;之后介绍，这里我们就先拿来用一下。我们在&nbsp;<span style="font-size:14pt">MyController</span>&nbsp;类上加上&nbsp;<span style="font-size:14pt">@SessionAttributes</span>&nbsp;属性标记哪些是需要存放到&nbsp;<span style="font-size:14pt">session</span>中的。看下面的代码：</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/myTest&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@SessionAttributes&nbsp;(value={&nbsp;&quot;intValue&quot;&nbsp;,&nbsp;&quot;stringValue&quot;&nbsp;},&nbsp;types={User.&nbsp;<strong>class</strong>&nbsp;})&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;hello&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;String&nbsp;getModel()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;-------------Hello---------&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;world&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;intValue&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>int</strong>&nbsp;getInteger()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;-------------intValue---------------&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;10;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;sayHello&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;sayHello(Map&lt;String,&nbsp;Object&gt;&nbsp;map,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;hello&quot;&nbsp;)&nbsp;String&nbsp;hello,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;intValue&quot;&nbsp;)&nbsp;<strong>int</strong>&nbsp;num,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;user2&quot;&nbsp;)&nbsp;User&nbsp;user,&nbsp;Writer&nbsp;writer,&nbsp;HttpServletRequest&nbsp;request)&nbsp;<strong>throws</strong>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(&nbsp;&quot;stringValue&quot;&nbsp;,&nbsp;&quot;String&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;Hello&nbsp;&quot;&nbsp;+&nbsp;hello&nbsp;+&nbsp;&quot;&nbsp;,&nbsp;Hello&nbsp;&quot;&nbsp;+&nbsp;user.getUsername()&nbsp;+&nbsp;num);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpSession&nbsp;session&nbsp;=&nbsp;request.getSession();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enumeration&nbsp;enume&nbsp;=&nbsp;session.getAttributeNames();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>while</strong>&nbsp;(enume.hasMoreElements())&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(enume.nextElement()&nbsp;+&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(session);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;user2&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;User&nbsp;getUser()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&nbsp;out&nbsp;.println(&nbsp;&quot;---------getUser-------------&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;<strong>new</strong>&nbsp;User(3,&nbsp;&quot;user2&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在上面代码中我们指定了属性为&nbsp;<span style="font-size:14pt">intValue</span>&nbsp;或&nbsp;<span style="font-size:14pt">stringValue</span>&nbsp;或者类型为&nbsp;<span style="font-size:14pt">User</span>&nbsp;的都会放到&nbsp;<span style="font-size:14pt">Session</span>中，利用上面的代码当我们访问&nbsp;<span style="font-size:14pt">/myTest/sayHello.do</span>&nbsp;的时候，结果如下：</span></span><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><img alt="" src="http://dl.iteye.com/upload/attachment/0078/3377/06750228-d8ab-336b-bb00-06455d11c895.png" style="border:0px" /></span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;仍然没有打印出任何&nbsp;<span style="font-size:14pt">session</span>&nbsp;属性，这是怎么回事呢？怎么定义了把模型中属性名为&nbsp;<span style="font-size:14pt">intValue</span>&nbsp;的对象和类型为&nbsp;<span style="font-size:14pt">User</span>&nbsp;的对象存到&nbsp;<span style="font-size:14pt">session</span>&nbsp;中，而实际上没有加进去呢？难道我们错啦？我们当然没有错，只是在第一次访问&nbsp;<span style="font-size:14pt">/myTest/sayHello.do</span>&nbsp;的时候&nbsp;<span style="font-size:14pt">@SessionAttributes</span>&nbsp;定义了需要存放到&nbsp;<span style="font-size:14pt">session</span>&nbsp;中的属性，而且这个模型中也有对应的属性，但是这个时候还没有加到&nbsp;<span style="font-size:14pt">session</span>&nbsp;中，所以&nbsp;<span style="font-size:14pt">session</span>&nbsp;中不会有任何属性，等处理器方法执行完成后&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;才会把模型中对应的属性添加到&nbsp;<span style="font-size:14pt">session</span>&nbsp;中。所以当请求第二次的时候就会出现如下结果：</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><img alt="" src="http://dl.iteye.com/upload/attachment/0078/3379/95eb240b-46ad-350b-b3c9-9c64dbe9505c.png" style="border:0px" /></span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">当&nbsp;<span style="font-size:14pt">@ModelAttribute</span>&nbsp;标记在处理器方法参数上的时候，表示该参数的值将从模型或者&nbsp;<span style="font-size:14pt">Session</span>&nbsp;中取对应名称的属性值，该名称可以通过&nbsp;<span style="font-size:14pt">@ModelAttribute(&ldquo;attributeName&rdquo;)</span>&nbsp;来指定，若未指定，则使用参数类型的类名称（首字母小写）作为属性名称。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/myTest&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;hello&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;String&nbsp;getModel()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;&quot;world&quot;&nbsp;;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;sayHello&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;sayHello(&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;hello&quot;&nbsp;)&nbsp;String&nbsp;hello,&nbsp;Writer&nbsp;writer)&nbsp;<strong>throws</strong>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;Hello&nbsp;&quot;&nbsp;+&nbsp;hello);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">在上面代码中，当我们请求/myTest/sayHello.do&nbsp;的时候，由于MyController&nbsp;中的方法getModel&nbsp;使用了注解@ModelAttribute&nbsp;进行标记，所以在执行请求方法sayHello&nbsp;之前会先执行getModel&nbsp;方法，这个时候getModel&nbsp;方法返回一个字符串world&nbsp;并把它以属性名hello&nbsp;保存在模型中，接下来访问请求方法sayHello&nbsp;的时候，该方法的hello参数使用@ModelAttribute(&ldquo;hello&rdquo;)&nbsp;进行标记，这意味着将从session&nbsp;或者模型中取属性名称为hello&nbsp;的属性值赋给hello&nbsp;参数，所以这里hello&nbsp;参数将被赋予值world&nbsp;，所以请求完成后将会在页面上看到Hello world&nbsp;字符串。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><strong>@SessionAttributes&nbsp;</strong>用于标记需要在Session&nbsp;中使用到的数据，包括从Session&nbsp;中取数据和存数据。@SessionAttributes&nbsp;一般是标记在Controller&nbsp;类上的，可以通过名称、类型或者名称加类型的形式来指定哪些属性是需要存放在session&nbsp;中的。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/myTest&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@SessionAttributes&nbsp;(value={&nbsp;&quot;user1&quot;&nbsp;,&nbsp;&quot;blog1&quot;&nbsp;},&nbsp;types={User.&nbsp;<strong>class</strong>&nbsp;,&nbsp;Blog.&nbsp;<strong>class</strong>&nbsp;})&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;setSessionAttribute&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;setSessionAttribute(Map&lt;String,&nbsp;Object&gt;&nbsp;map,&nbsp;Writer&nbsp;writer)&nbsp;<strong>throws</strong>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;user&nbsp;=&nbsp;<strong>new</strong>&nbsp;User(1,&nbsp;&quot;user&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;user1&nbsp;=&nbsp;<strong>new</strong>&nbsp;User(2,&nbsp;&quot;user1&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blog&nbsp;blog&nbsp;=&nbsp;<strong>new</strong>&nbsp;Blog(1,&nbsp;&quot;blog&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blog&nbsp;blog1&nbsp;=&nbsp;<strong>new</strong>&nbsp;Blog(2,&nbsp;&quot;blog1&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(&nbsp;&quot;user&quot;&nbsp;,&nbsp;user);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(&nbsp;&quot;user1&quot;&nbsp;,&nbsp;user1);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(&nbsp;&quot;blog&quot;&nbsp;,&nbsp;blog);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(&nbsp;&quot;blog1&quot;&nbsp;,&nbsp;blog1);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;over.&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;useSessionAttribute&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;useSessionAttribute(Writer&nbsp;writer,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;user1&quot;&nbsp;)&nbsp;User&nbsp;user1,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;blog1&quot;&nbsp;)&nbsp;Blog&nbsp;blog1)&nbsp;<strong>throws</strong>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(user1.getId()&nbsp;+&nbsp;&quot;--------&quot;&nbsp;+&nbsp;user1.getUsername());&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(blog1.getId()&nbsp;+&nbsp;&quot;--------&quot;&nbsp;+&nbsp;blog1.getTitle());&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;useSessionAttribute2&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;useSessionAttribute(Writer&nbsp;writer,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;user1&quot;&nbsp;)&nbsp;User&nbsp;user1,&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;blog1&quot;&nbsp;)&nbsp;Blog&nbsp;blog1,&nbsp;@ModelAttribute&nbsp;User&nbsp;user,&nbsp;HttpSession&nbsp;session)&nbsp;<strong>throws</strong>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(user1.getId()&nbsp;+&nbsp;&quot;--------&quot;&nbsp;+&nbsp;user1.getUsername());&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(blog1.getId()&nbsp;+&nbsp;&quot;--------&quot;&nbsp;+&nbsp;blog1.getTitle());&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(user.getId()&nbsp;+&nbsp;&quot;---------&quot;&nbsp;+&nbsp;user.getUsername());&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(&nbsp;&quot;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enumeration&nbsp;enume&nbsp;=&nbsp;session.getAttributeNames();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>while</strong>&nbsp;(enume.hasMoreElements())&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(enume.nextElement()&nbsp;+&nbsp;&quot;&nbsp;\r&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;useSessionAttribute3&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;useSessionAttribute(&nbsp;@ModelAttribute&nbsp;(&nbsp;&quot;user2&quot;&nbsp;)&nbsp;User&nbsp;user)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p>&nbsp;</p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;在上面代码中我们可以看到在MyController&nbsp;上面使用了@SessionAttributes&nbsp;标记了需要使用到的Session&nbsp;属性。可以通过名称和类型指定需要存放到Session&nbsp;中的属性，对应@SessionAttributes&nbsp;注解的value&nbsp;和types&nbsp;属性。当使用的是types&nbsp;属性的时候，那么使用的Session&nbsp;属性名称将会是对应类型的名称（首字母小写）。当value&nbsp;和types&nbsp;两个属性都使用到了的时候，这时候取的是它们的并集，而不是交集，所以上面代码中指定要存放在Session&nbsp;中的属性有名称为user1&nbsp;或blog1&nbsp;的对象，或类型为User&nbsp;或Blog&nbsp;的对象。在上面代码中我们首先访问/myTest/setSessionAttribute.do&nbsp;，该请求将会请求到MyController&nbsp;的setSessionAttribute&nbsp;方法，在该方法中，我们往模型里面添加了user&nbsp;、user1&nbsp;、blog&nbsp;和blog1&nbsp;四个属性，因为它们或跟类上的@SessionAttributes&nbsp;定义的需要存到session&nbsp;中的属性名称相同或类型相同，所以在请求完成后这四个属性都将添加到session&nbsp;属性中。接下来访问/myTest/useSessionAttribute.do&nbsp;，该请求将会请求MyController&nbsp;的useSessionAttribute(Writer writer, @ModelAttribute(&ldquo;user1&rdquo;) User user1, @ModelAttribute(&ldquo;blog1&rdquo;) Blog blog)&nbsp;方法，该方法参数中用@ModelAttribute&nbsp;指定了参数user1&nbsp;和参数blog1&nbsp;是需要从session&nbsp;或模型中绑定的，恰好这个时候session&nbsp;中已经有了这两个属性，所以这个时候在方法执行之前会先绑定这两个参数。执行结果如下图所示：</span></span><br />
<span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><img alt="" src="http://dl.iteye.com/upload/attachment/0078/3381/9c9232dc-5444-3d2c-a16a-e69b8ee560a2.png" style="border:0px" /></span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;接下来访问/myTest/useSessionAttribute2.do&nbsp;，这个时候请求的是上面代码中对应的第二个useSessionAttribute方法，方法参数user&nbsp;、user1&nbsp;和blog1&nbsp;用@ModelAttribute&nbsp;声明了需要session&nbsp;或模型属性注入，我们知道在请求/myTest/setSessionAttribute.do&nbsp;的时候这些属性都已经添加到了session&nbsp;中，所以该请求的结果会如下图所示：</span></span><br />
<span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><img alt="" src="http://dl.iteye.com/upload/attachment/0078/3383/f4728e92-10da-32a9-af9e-45c29dda0c32.png" style="border:0px" /></span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;接下来访问/myTest/useSessionAttribute3.do&nbsp;，这个时候请求的是上面代码中对应的第三个useSessionAttribute方法，我们可以看到该方法的方法参数user&nbsp;使用了@ModelAttribute(&ldquo;user2&rdquo;)&nbsp;进行标记，表示user&nbsp;需要session中的user2&nbsp;属性来注入，但是这个时候我们知道session&nbsp;中是不存在user2&nbsp;属性的，所以这个时候就会报错了。执行结果如图所示：</span></span><br />
<span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><img alt="" class="magplus" src="http://dl.iteye.com/upload/attachment/0078/3385/5f1e1083-6a58-3dc8-993a-4ea730f0fe27.png" style="border:0px; cursor:url(&quot;/images/magplus.gif&quot;), pointer; height:49px; width:700px" title="点击查看原始大小图片" /></span></span></p>

<h3 style="font-style:normal; margin-left:0px; margin-right:0px">（八）定制自己的类型转换器</h3>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在通过处理器方法参数接收&nbsp;<span style="font-size:14pt">request</span>&nbsp;请求参数绑定数据的时候，对于一些简单的数据类型&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;会帮我们自动进行类型转换，而对于一些复杂的类型由于&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;没法识别，所以也就不能帮助我们进行自动转换了，这个时候如果我们需要&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;来帮我们自动转换的话就需要我们给&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;注册一个对特定类型的识别转换器。&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;允许我们提供两种类型的识别转换器，一种是注册在&nbsp;<span style="font-size:14pt">Controller</span>&nbsp;中的，一种是注册在<span style="font-size:14pt">SpringMVC</span>&nbsp;的配置文件中。聪明的读者看到这里应该可以想到它们的区别了，定义在&nbsp;<span style="font-size:14pt">Controller</span>&nbsp;中的是局部的，只在当前&nbsp;<span style="font-size:14pt">Controller</span>&nbsp;中有效，而放在&nbsp;<span style="font-size:14pt">SpringMVC</span>&nbsp;配置文件中的是全局的，所有&nbsp;<span style="font-size:14pt">Controller</span>&nbsp;都可以拿来使用。</span></span></p>

<h4 style="color:#000000; font-style:normal; margin-left:0px; margin-right:0px"><span style="font-size:12px">1.</span>&nbsp;<span style="font-size:12px">在</span>&nbsp;<span style="font-size:12px">@InitBinder</span>&nbsp;<span style="font-size:12px">标记的方法中定义局部的类型转换器</span></h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;我们可以使用&nbsp;<span style="font-size:14pt">@InitBinder</span>&nbsp;注解标注在&nbsp;<span style="font-size:14pt">Controller</span>&nbsp;方法上，然后在方法体里面注册数据绑定的转换器，这主要是通过&nbsp;<span style="font-size:14pt">WebDataBinder</span>&nbsp;进行的。我们可以给需要注册数据绑定的转换器的方法一个<span style="font-size:14pt">WebDataBinder</span>&nbsp;参数，然后给该方法加上&nbsp;<span style="font-size:14pt">@InitBinder</span>&nbsp;注解，这样当该&nbsp;<span style="font-size:14pt">Controller</span>&nbsp;中在处理请求方法时如果发现有不能解析的对象的时候，就会看该类中是否有使用&nbsp;<span style="font-size:14pt">@InitBinder</span>&nbsp;标记的方法，如果有就会执行该方法，然后看里面定义的类型转换器是否与当前需要的类型匹配。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@Controller&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@RequestMapping&nbsp;(&nbsp;&quot;/myTest&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyController&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@InitBinder&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;dataBinder(WebDataBinder&nbsp;binder)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DateFormat&nbsp;dateFormat&nbsp;=&nbsp;<strong>new</strong>&nbsp;SimpleDateFormat(&nbsp;&quot;yyyyMMdd&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyEditor&nbsp;propertyEditor&nbsp;=&nbsp;<strong>new</strong>&nbsp;CustomDateEditor(dateFormat,&nbsp;<strong>true</strong>&nbsp;);&nbsp;//&nbsp;第二个参数表示是否允许为空&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;binder.registerCustomEditor(Date.&nbsp;<strong>class</strong>&nbsp;,&nbsp;propertyEditor);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping&nbsp;(&nbsp;&quot;dataBinder/{date}&quot;&nbsp;)&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;testDate(&nbsp;@PathVariable&nbsp;Date&nbsp;date,&nbsp;Writer&nbsp;writer)&nbsp;<strong>throws</strong>&nbsp;IOException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(String.valueOf&nbsp;(date.getTime()));&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在上面的代码中当我们请求&nbsp;<span style="font-size:14pt">/myTest/dataBinder/20121212.do</span>&nbsp;的时候，&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;就会利用<span style="font-size:14pt">@InitBinder</span>&nbsp;标记的方法里面定义的类型转换器把字符串&nbsp;<span style="font-size:14pt">20121212</span>&nbsp;转换为一个&nbsp;<span style="font-size:14pt">Date</span>&nbsp;对象。这样定义的类型转换器是局部的类型转换器，一旦出了这个&nbsp;<span style="font-size:14pt">Controller</span>&nbsp;就不会再起作用。类型转换器是通过<span style="font-size:14pt">WebDataBinder</span>&nbsp;对象的&nbsp;<span style="font-size:14pt">registerCustomEditor</span>&nbsp;方法来注册的，要实现自己的类型转换器就要实现自己的&nbsp;<span style="font-size:14pt">PropertyEditor</span>&nbsp;对象。&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;已经给我们提供了一些常用的属性编辑器，如<span style="font-size:14pt">CustomDateEditor</span>&nbsp;、&nbsp;<span style="font-size:14pt">CustomBooleanEditor</span>&nbsp;等。</span></span></p>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif"><span style="font-size:14pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyEditor</span>&nbsp;是一个接口，要实现自己的&nbsp;<span style="font-size:14pt">PropertyEditor</span>&nbsp;类我们可以实现这个接口，然后实现里面的方法。但是&nbsp;<span style="font-size:14pt">PropertyEditor</span>&nbsp;里面定义的方法太多了，这样做比较麻烦。在&nbsp;<span style="font-size:14pt">java</span>&nbsp;中有一个封装类是实现了&nbsp;<span style="font-size:14pt">PropertyEditor</span>&nbsp;接口的，它是&nbsp;<span style="font-size:14pt">PropertyEditorSupport</span>&nbsp;类。所以如果需要实现自己的<span style="font-size:14pt">PropertyEditor</span>&nbsp;的时候只需要继承&nbsp;<span style="font-size:14pt">PropertyEditorSupport</span>&nbsp;类，然后重写其中的一些方法。一般就是重写&nbsp;<span style="font-size:14pt">setAsText</span>&nbsp;和&nbsp;<span style="font-size:14pt">getAsText</span>&nbsp;方法就可以了，&nbsp;<span style="font-size:14pt">setAsText</span>&nbsp;方法是用于把字符串类型的值转换为对应的对象的，而&nbsp;<span style="font-size:14pt">getAsText</span>&nbsp;方法是用于把对象当做字符串来返回的。在&nbsp;<span style="font-size:14pt">setAsText</span>&nbsp;中我们一般先把字符串类型的对象转为特定的对象，然后利用&nbsp;<span style="font-size:14pt">PropertyEditor</span>&nbsp;的&nbsp;<span style="font-size:14pt">setValue</span>&nbsp;方法设定转换后的值。在&nbsp;<span style="font-size:14pt">getAsText</span>&nbsp;方法中一般先使用&nbsp;<span style="font-size:14pt">getValue</span>&nbsp;方法取代当前的对象，然后把它转换为字符串后再返回给&nbsp;<span style="font-size:14pt">getAsText</span>&nbsp;方法。下面是一个示例：</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">@InitBinder&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>void</strong>&nbsp;dataBinder(WebDataBinder&nbsp;binder)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;//&nbsp;定义一个&nbsp;User&nbsp;属性编辑器&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;PropertyEditor&nbsp;userEditor&nbsp;=&nbsp;<strong>new</strong>&nbsp;PropertyEditorSupport()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;String&nbsp;getAsText()&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO&nbsp;Auto-generated&nbsp;method&nbsp;stub&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;user&nbsp;=&nbsp;(User)&nbsp;getValue();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>return</strong>&nbsp;user.getUsername();&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;setAsText(String&nbsp;userStr)&nbsp;<strong>throws</strong>&nbsp;IllegalArgumentException&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO&nbsp;Auto-generated&nbsp;method&nbsp;stub&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User&nbsp;user&nbsp;=&nbsp;<strong>new</strong>&nbsp;User(1,&nbsp;userStr);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setValue(user);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;//&nbsp;使用&nbsp;WebDataBinder&nbsp;注册&nbsp;User&nbsp;类型的属性编辑器&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;binder.registerCustomEditor(User.&nbsp;<strong>class</strong>&nbsp;,&nbsp;userEditor);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<h4 style="color:#000000; font-style:normal; margin-left:0px; margin-right:0px"><span style="font-size:12px">2.</span>&nbsp;<span style="font-size:12px">实现</span>&nbsp;<span style="font-size:12px">WebBindingInitializer</span>&nbsp;<span style="font-size:12px">接口定义全局的类型转换器</span></h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果需要定义全局的类型转换器就需要实现自己的&nbsp;<span style="font-size:14pt">WebBindingInitializer</span>&nbsp;对象，然后把该对象注入到<span style="font-size:14pt">AnnotationMethodHandlerAdapter</span>&nbsp;中，这样&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;在遇到自己不能解析的对象的时候就会到全局的&nbsp;<span style="font-size:14pt">WebBindingInitializer</span>&nbsp;的&nbsp;<span style="font-size:14pt">initBinder</span>&nbsp;方法中去找，每次遇到不认识的对象时，&nbsp;<span style="font-size:14pt">initBinder</span>&nbsp;方法都会被执行一遍。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>public</strong>&nbsp;<strong>class</strong>&nbsp;MyWebBindingInitializer&nbsp;<strong>implements</strong>&nbsp;WebBindingInitializer&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;@Override&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;<strong>public</strong>&nbsp;<strong>void</strong>&nbsp;initBinder(WebDataBinder&nbsp;binder,&nbsp;WebRequest&nbsp;request)&nbsp;{&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;TODO&nbsp;Auto-generated&nbsp;method&nbsp;stub&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DateFormat&nbsp;dateFormat&nbsp;=&nbsp;<strong>new</strong>&nbsp;SimpleDateFormat(&nbsp;&quot;yyyyMMdd&quot;&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PropertyEditor&nbsp;propertyEditor&nbsp;=&nbsp;<strong>new</strong>&nbsp;CustomDateEditor(dateFormat,&nbsp;<strong>true</strong>&nbsp;);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;binder.registerCustomEditor(Date.&nbsp;<strong>class</strong>&nbsp;,&nbsp;propertyEditor);&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">}&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">定义了这么一个&nbsp;<span style="font-size:14pt">WebBindingInitializer</span>&nbsp;对象之后&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;还是不能识别其中指定的对象，这是因为我们只是定义了&nbsp;<span style="font-size:14pt">WebBindingInitializer</span>&nbsp;对象，还没有把它交给&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;，&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;不知道该去哪里找解析器。要让&nbsp;<span style="font-size:14pt">Spring</span>&nbsp;能够识别还需要我们在&nbsp;<span style="font-size:14pt">SpringMVC</span>&nbsp;的配置文件中定义一个<span style="font-size:14pt">AnnotationMethodHandlerAdapter</span>&nbsp;类型的&nbsp;<span style="font-size:14pt">bean</span>&nbsp;对象，然后利用自己定义的<span style="font-size:14pt">WebBindingInitializer</span>&nbsp;覆盖它的默认属性&nbsp;<span style="font-size:14pt">webBindingInitializer</span>&nbsp;。</span></span></p>

<div class="dp-highlighter" id="" style="-webkit-text-stroke-width:0px; margin-left:9px; padding:1px; text-align:left; width:679px">
<ol start="1" style="margin-left:0px; margin-right:0px">
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>&lt;</strong>&nbsp;<strong>bean</strong>&nbsp;class&nbsp;=&nbsp;&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&nbsp;<strong>&gt;</strong>&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>&lt;</strong>&nbsp;<strong>property</strong>&nbsp;name&nbsp;=&nbsp;&quot;webBindingInitializer&quot;&nbsp;<strong>&gt;</strong>&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>&lt;</strong>&nbsp;<strong>bean</strong>&nbsp;class&nbsp;=&nbsp;&quot;com.host.app.web.util.MyWebBindingInitializer&quot;&nbsp;<strong>/&gt;</strong>&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace">&nbsp;&nbsp;&nbsp;<strong>&lt;/</strong>&nbsp;<strong>property</strong>&nbsp;<strong>&gt;</strong>&nbsp;&nbsp;</span></span></li>
	<li><span style="font-size:12px"><span style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace"><strong>&lt;/</strong>&nbsp;<strong>bean</strong>&nbsp;<strong>&gt;</strong>&nbsp;&nbsp;&nbsp;</span></span></li>
</ol>
</div>

<h4 style="color:#000000; font-style:normal; margin-left:0px; margin-right:0px">3.触发数据绑定方法的时间</h4>

<p><span style="font-size:14px"><span style="font-family:Helvetica,Tahoma,Arial,sans-serif">当Controller处理器方法参数使用@RequestParam、@PathVariable、@RequestHeader、@CookieValue和@ModelAttribute标记的时候都会触发initBinder方法的执行，这包括使用WebBindingInitializer定义的全局方法和在Controller中使用@InitBinder标记的局部方法。而且每个使用了这几个注解标记的参数都会触发一次initBinder方法的执行，这也意味着有几个参数使用了上述注解就会触发几次initBinder方法的执行。</span></span></p>
